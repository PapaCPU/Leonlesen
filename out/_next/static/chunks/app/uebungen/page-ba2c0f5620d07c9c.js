(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{9509:(e,t,r)=>{Promise.resolve().then(r.bind(r,9938))},9938:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(1133),a=r(1321),s=r(3587),i=r.n(s);let o=e=>{let{current:t,total:r}=e,a=Math.min(100,t/r*100);return(0,n.jsxs)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:[(0,n.jsx)("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300 ease-in-out",style:{width:"".concat(a,"%")}}),(0,n.jsxs)("div",{className:"text-xs text-center mt-1",children:["\xdcbung ",t," von ",r]})]})},l=e=>{let{word:t}=e;return(0,n.jsx)("div",{className:"text-6xl font-bold text-center p-6 bg-blue-100 rounded-xl w-full",children:t})},c=e=>{let{value:t,onChange:r,onSubmit:a}=e;return(0,n.jsxs)("div",{className:"w-full space-y-4",children:[(0,n.jsx)("p",{className:"text-lg text-center",children:"Was steht oben? Tippe das Wort ein:"}),(0,n.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),className:"w-full p-3 border-2 border-blue-300 rounded-lg text-center text-xl",placeholder:"Deine Antwort..."}),(0,n.jsx)("button",{onClick:a,className:"w-full py-3 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg",children:"Pr\xfcfen"})]})},h=e=>{let{message:t,isCorrect:r}=e;return t?(0,n.jsx)("div",{className:"p-3 rounded-lg text-center ".concat(r?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:t}):null};var u=r(9188),d=r(2498);function m(){let{difficulty:e,addTrophy:t}=(0,u.r)(),r=(0,d.O)(),[s,m]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[p,b]=(0,a.useState)(""),[x,y]=(0,a.useState)(!1),[w,k]=(0,a.useState)(1),[S,v]=(0,a.useState)(0),[j,N]=(0,a.useState)(!1),[K,A]=(0,a.useState)(!0);(0,a.useEffect)(()=>{I()},[]);let I=async()=>{A(!0);try{let t=await r.generateWord(e);m(t)}catch(e){console.error("Fehler beim Generieren des Wortes:",e),m(["Hund","Katze","Maus","Haus","Ball"][Math.floor(5*Math.random())])}finally{A(!1)}},z=async()=>{if(g.trim())try{let e=await r.checkAnswer(s,g);y(e.correct),b(e.feedback),e.correct&&(v(e=>e+1),setTimeout(()=>{w<10?(k(e=>e+1),f(""),b(""),I()):(N(!0),t())},1500))}catch(r){console.error("Fehler beim \xdcberpr\xfcfen der Antwort:",r);let e=g.toLowerCase()===s.toLowerCase();y(e),b(e?"Richtig! Gut gemacht!":"Nicht ganz richtig. Versuche es noch einmal!"),e&&(v(e=>e+1),setTimeout(()=>{w<10?(k(e=>e+1),f(""),b(""),I()):(N(!0),t())},1500))}};return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-blue-50 p-4",children:(0,n.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-6 space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-blue-600",children:"Lese\xfcbung"}),(0,n.jsx)(i(),{href:"/start",children:(0,n.jsx)("button",{className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg",children:"Zur\xfcck"})})]}),(0,n.jsx)(o,{current:w,total:10}),(0,n.jsxs)("div",{className:"flex flex-col items-center space-y-8",children:[K?(0,n.jsx)("div",{className:"text-center p-6",children:(0,n.jsx)("p",{children:"Lade neues Wort..."})}):(0,n.jsx)(l,{word:s}),(0,n.jsx)(c,{value:g,onChange:f,onSubmit:z}),p&&(0,n.jsx)(h,{message:p,isCorrect:x})]}),j&&(0,n.jsx)("div",{className:"flex justify-center mt-6",children:(0,n.jsx)(i(),{href:"/pokale",children:(0,n.jsx)("button",{className:"px-6 py-3 bg-yellow-500 hover:bg-yellow-600 text-white font-bold rounded-lg",children:"Zu meinen Pokalen"})})})]})})}},2498:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});class n{setApiKey(e){this.apiKey=e,localStorage.setItem("openai_api_key",e)}hasApiKey(){return!!this.apiKey}async generateWord(e){if(!this.apiKey)throw Error("Kein API-Key gesetzt");try{let t=this.getDifficultyDescription(e),r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.apiKey)},body:JSON.stringify({model:this.model,messages:[{role:"system",content:"Du bist ein Lehrer, der Kindern beim Lesenlernen hilft. Generiere ein einzelnes deutsches Wort f\xfcr eine Lese\xfcbung. Das Wort sollte f\xfcr die folgende Schwierigkeitsstufe geeignet sein: ".concat(t,". Antworte nur mit dem Wort, ohne Anf\xfchrungszeichen oder zus\xe4tzlichen Text.")}],max_tokens:50,temperature:.7})});if(!r.ok)throw Error("API-Fehler: ".concat(r.status));return(await r.json()).choices[0].message.content.trim()}catch(e){return console.error("Fehler beim Generieren des Wortes:",e),["Hund","Katze","Maus","Haus","Ball"][Math.floor(5*Math.random())]}}async checkAnswer(e,t){if(!this.apiKey){let r=e.toLowerCase()===t.toLowerCase();return{correct:r,feedback:r?"Richtig! Gut gemacht!":"Nicht ganz richtig. Versuche es noch einmal!"}}try{let r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.apiKey)},body:JSON.stringify({model:this.model,messages:[{role:"system",content:"Du bist ein freundlicher Lehrer, der Kindern beim Lesenlernen hilft. \xdcberpr\xfcfe, ob die Antwort des Kindes korrekt ist und gib ein kurzes, motivierendes Feedback."},{role:"user",content:'Das zu lesende Wort ist "'.concat(e,'". Die Antwort des Kindes ist "').concat(t,'". Ist die Antwort korrekt? Antworte im JSON-Format: {"correct": true/false, "feedback": "Dein Feedback"}')}],max_tokens:100,temperature:.5})});if(!r.ok)throw Error("API-Fehler: ".concat(r.status));let n=(await r.json()).choices[0].message.content;try{let e=JSON.parse(n);return{correct:e.correct,feedback:e.feedback}}catch(n){let r=e.toLowerCase()===t.toLowerCase();return{correct:r,feedback:r?"Richtig! Gut gemacht!":"Nicht ganz richtig. Versuche es noch einmal!"}}}catch(n){console.error("Fehler beim \xdcberpr\xfcfen der Antwort:",n);let r=e.toLowerCase()===t.toLowerCase();return{correct:r,feedback:r?"Richtig! Gut gemacht!":"Nicht ganz richtig. Versuche es noch einmal!"}}}async generateImage(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!this.apiKey)throw Error("Kein API-Key gesetzt");try{let r=this.getImagePrompt(e,t),n=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.apiKey)},body:JSON.stringify({model:this.imageModel,prompt:r,n:1,size:"1024x1024"})});if(!n.ok)throw Error("API-Fehler: ".concat(n.status));return(await n.json()).data[0].url}catch(e){throw console.error("Fehler beim Generieren des Bildes:",e),e}}getDifficultyDescription(e){switch(e){case 1:return"Sehr einfach: Kurze W\xf6rter mit 2-3 Buchstaben, einfache Laute, keine Umlaute oder Doppellaute.";case 2:return"Einfach: W\xf6rter mit 3-4 Buchstaben, einfache Laute, keine komplexen Buchstabenkombinationen.";case 3:default:return"Mittel: W\xf6rter mit 4-5 Buchstaben, kann Umlaute enthalten, einfache Alltagsw\xf6rter.";case 4:return"Fortgeschritten: W\xf6rter mit 5-6 Buchstaben, kann Doppellaute und Umlaute enthalten.";case 5:return"Herausfordernd: L\xe4ngere W\xf6rter mit 6-8 Buchstaben, kann komplexere Buchstabenkombinationen enthalten."}}getImagePrompt(e,t){return"Ein kindgerechtes, fr\xf6hliches Bild f\xfcr ein Kind, das gerade ".concat(e," Lese\xfcbungen erfolgreich abgeschlossen hat. Das Bild sollte motivierend und belohnend wirken.")+(t?" Das Bild muss absolut kindgerecht sein, ohne be\xe4ngstigende oder unangemessene Elemente.":"")+" Im Stil einer bunten, freundlichen Kinderillustration."}constructor(){this.apiKey="",this.model="gpt-4o-mini-realtime-preview-2024-12-17",this.imageModel="dall-e-3",this.apiKey=localStorage.getItem("openai_api_key")||""}}let a=null;function s(){return a||(a=new n),a}},9188:(e,t,r)=>{"use strict";r.d(t,{f:()=>o,r:()=>l});var n=r(1133),a=r(1321),s=r(2498);let i=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(0),[l,c]=(0,a.useState)(3),[h,u]=(0,a.useState)(!0),[d,m]=(0,a.useState)(""),g=(0,s.O)();return(0,a.useEffect)(()=>{{let e=parseInt(localStorage.getItem("trophies")||"0"),t=parseInt(localStorage.getItem("difficulty")||"3"),r="false"!==localStorage.getItem("safe_mode"),n=localStorage.getItem("openai_api_key")||"";o(e),c(t),u(r),m(n),n&&g.setApiKey(n)}},[]),(0,a.useEffect)(()=>{localStorage.setItem("trophies",r.toString())},[r]),(0,a.useEffect)(()=>{localStorage.setItem("difficulty",l.toString())},[l]),(0,a.useEffect)(()=>{localStorage.setItem("safe_mode",h.toString())},[h]),(0,a.useEffect)(()=>{localStorage.setItem("openai_api_key",d),g.setApiKey(d)},[d]),(0,n.jsx)(i.Provider,{value:{trophies:r,addTrophy:()=>{o(e=>e+1)},difficulty:l,setDifficulty:c,safeMode:h,setSafeMode:u,apiKey:d,setApiKey:m},children:t})}function l(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useReadingApp must be used within a ReadingAppProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[587,634,775,358],()=>t(9509)),_N_E=e.O()}]);